{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/Layout.jsx"],"sourcesContent":["import { Github, Palette } from 'lucide-react';\nimport { useTheme, THEMES } from '../context/ThemeContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport { clsx } from 'clsx';\n\nexport function Layout({ children }) {\n  const { theme, setTheme, currentTheme } = useTheme();\n  const { t } = useLanguage();\n\n  return (\n    <div className={clsx(\"min-h-screen flex flex-col md:flex-row max-w-7xl mx-auto transition-colors duration-300\", currentTheme.colors.text)}>\n      <main className=\"flex-1 p-6 flex flex-col gap-8\">\n        <header className=\"flex justify-between items-center border-b border-gray-800/30 pb-4\">\n          <div className=\"flex items-center gap-2\">\n            <div className={clsx(\"w-8 h-8 rounded-lg flex items-center justify-center transition-colors\", `bg-${currentTheme.colors.primary}-500`)}>\n                <span className=\"font-bold text-white\">F</span>\n            </div>\n            <h1 className=\"text-2xl font-bold tracking-tight\">{t('Focus.')}</h1>\n          </div>\n          <a href=\"#\" className=\"opacity-60 hover:opacity-100 transition-opacity\">\n            <Github size={20} />\n          </a>\n        </header>\n        \n        <div className=\"flex-1\">\n          {children}\n        </div>\n\n        <footer className=\"text-center opacity-50 text-sm mt-8 pb-4\">\n          <p>Â© 2024 Focus App. {t('Stay Productive')}.</p>\n        </footer>\n      </main>\n      \n      <aside className={clsx(\"w-full md:w-80 border-t md:border-t-0 md:border-l border-gray-800/30 p-6 flex flex-col gap-8 transition-colors\", currentTheme.colors.sidebar)}>\n         {/* Theme Switcher */}\n         <div>\n            <h3 className=\"flex items-center gap-2 text-sm font-semibold opacity-60 uppercase tracking-wider mb-4\">\n                <Palette size={14} />\n                {t('Themes (Free)')}\n            </h3>\n             <div className={clsx(\"rounded-xl p-4\", currentTheme.colors.card)}>\n                <div className=\"flex gap-3 mb-3 justify-between\">\n                    {Object.keys(THEMES).map((themeKey) => {\n                        const t = THEMES[themeKey];\n                        const isActive = theme === themeKey;\n                        let bgColorClass = '';\n                        // Manual mapping for demo since dynamic safelist might be tricky without full config\n                        if (themeKey === 'default') bgColorClass = 'bg-indigo-500';\n                        if (themeKey === 'forest') bgColorClass = 'bg-emerald-500';\n                        if (themeKey === 'sunset') bgColorClass = 'bg-orange-500';\n                        if (themeKey === 'ocean') bgColorClass = 'bg-cyan-500';\n\n                        return (\n                             <button \n                                key={themeKey}\n                                onClick={() => setTheme(themeKey)}\n                                className={clsx(\n                                    \"w-8 h-8 rounded-full ring-2 cursor-pointer transition-all hover:scale-110\",\n                                    bgColorClass,\n                                    isActive ? \"ring-white scale-110\" : \"ring-transparent opacity-70 hover:opacity-100\"\n                                )}\n                                title={t.name}\n                            ></button>\n                        )\n                    })}\n                </div>\n                <p className=\"text-xs text-center opacity-60\">\n                    {t('Current')}: <span className=\"font-medium\">{currentTheme.name}</span>\n                </p>\n             </div>\n         </div>\n      </aside>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAEO,SAAS,OAAO,EAAE,QAAQ,EAAE;IACjC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,GAAG,IAAA,2IAAQ;IAClD,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,iJAAW;IAEzB,qBACE,8OAAC;QAAI,WAAW,IAAA,6IAAI,EAAC,2FAA2F,aAAa,MAAM,CAAC,IAAI;;0BACtI,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAW,IAAA,6IAAI,EAAC,yEAAyE,CAAC,GAAG,EAAE,aAAa,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;kDACjI,cAAA,8OAAC;4CAAK,WAAU;sDAAuB;;;;;;;;;;;kDAE3C,8OAAC;wCAAG,WAAU;kDAAqC,EAAE;;;;;;;;;;;;0CAEvD,8OAAC;gCAAE,MAAK;gCAAI,WAAU;0CACpB,cAAA,8OAAC,gNAAM;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAIlB,8OAAC;wBAAI,WAAU;kCACZ;;;;;;kCAGH,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC;;gCAAE;gCAAmB,EAAE;gCAAmB;;;;;;;;;;;;;;;;;;0BAI/C,8OAAC;gBAAM,WAAW,IAAA,6IAAI,EAAC,kHAAkH,aAAa,MAAM,CAAC,OAAO;0BAEjK,cAAA,8OAAC;;sCACE,8OAAC;4BAAG,WAAU;;8CACV,8OAAC,mNAAO;oCAAC,MAAM;;;;;;gCACd,EAAE;;;;;;;sCAEN,8OAAC;4BAAI,WAAW,IAAA,6IAAI,EAAC,kBAAkB,aAAa,MAAM,CAAC,IAAI;;8CAC5D,8OAAC;oCAAI,WAAU;8CACV,OAAO,IAAI,CAAC,yIAAM,EAAE,GAAG,CAAC,CAAC;wCACtB,MAAM,IAAI,yIAAM,CAAC,SAAS;wCAC1B,MAAM,WAAW,UAAU;wCAC3B,IAAI,eAAe;wCACnB,qFAAqF;wCACrF,IAAI,aAAa,WAAW,eAAe;wCAC3C,IAAI,aAAa,UAAU,eAAe;wCAC1C,IAAI,aAAa,UAAU,eAAe;wCAC1C,IAAI,aAAa,SAAS,eAAe;wCAEzC,qBACK,8OAAC;4CAEE,SAAS,IAAM,SAAS;4CACxB,WAAW,IAAA,6IAAI,EACX,6EACA,cACA,WAAW,yBAAyB;4CAExC,OAAO,EAAE,IAAI;2CAPR;;;;;oCAUjB;;;;;;8CAEJ,8OAAC;oCAAE,WAAU;;wCACR,EAAE;wCAAW;sDAAE,8OAAC;4CAAK,WAAU;sDAAe,aAAa,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpF"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/utils/achievements.js"],"sourcesContent":["// æˆå°±å®šä¹‰\nexport const ACHIEVEMENTS = [\n  { id: 'first_focus', name: 'åˆæ¬¡ä¸“æ³¨', desc: 'å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç•ªèŒ„é’Ÿ', icon: 'ğŸ¯' },\n  { id: 'night_owl', name: 'æ·±å¤œæˆ˜å£«', desc: 'åœ¨23:00-05:00å®Œæˆç•ªèŒ„é’Ÿ', icon: 'ğŸ¦‰' },\n  { id: 'early_bird', name: 'æ—©èµ·é¸Ÿå„¿', desc: 'åœ¨05:00-08:00å®Œæˆç•ªèŒ„é’Ÿ', icon: 'ğŸŒ…' },\n  { id: 'streak_3', name: 'è¿ç»­3å¤©', desc: 'è¿ç»­3å¤©å®Œæˆè‡³å°‘1ä¸ªç•ªèŒ„é’Ÿ', icon: 'ğŸ”¥' },\n  { id: 'streak_7', name: 'è¿ç»­7å¤©', desc: 'è¿ç»­7å¤©å®Œæˆè‡³å°‘1ä¸ªç•ªèŒ„é’Ÿ', icon: 'ğŸ’' },\n  { id: 'marathon', name: 'é©¬æ‹‰æ¾', desc: 'å•æ—¥å®Œæˆ8ä¸ªç•ªèŒ„é’Ÿ', icon: 'ğŸƒ' },\n  { id: 'century', name: 'ä¸–çºªä¸“æ³¨', desc: 'ç´¯è®¡å®Œæˆ100ä¸ªç•ªèŒ„é’Ÿ', icon: 'ğŸ’¯' },\n  { id: 'weekend', name: 'å‘¨æœ«æˆ˜å£«', desc: 'åœ¨å‘¨æœ«å®Œæˆç•ªèŒ„é’Ÿ', icon: 'ğŸ®' },\n  { id: 'night_10', name: 'æ·±å¤œ10æ¬¡', desc: 'æ·±å¤œæ—¶æ®µå®Œæˆ10æ¬¡ä¸“æ³¨', icon: 'ğŸŒ™' },\n  { id: 'morning_10', name: 'æ¸…æ™¨10æ¬¡', desc: 'æ¸…æ™¨æ—¶æ®µå®Œæˆ10æ¬¡ä¸“æ³¨', icon: 'ğŸŒ„' },\n  { id: 'perfect_day', name: 'å®Œç¾ä¸€å¤©', desc: 'å•æ—¥å®Œæˆ12ä¸ªç•ªèŒ„é’Ÿ', icon: 'â­' },\n  { id: 'monthly', name: 'æœˆåº¦è¾¾äºº', desc: 'å•æœˆå®Œæˆ60ä¸ªç•ªèŒ„é’Ÿ', icon: 'ğŸ“…' }\n];\n\n// æ£€æŸ¥æ˜¯å¦è§£é”æˆå°±\nexport function checkAchievements (session, allSessions) {\n  const unlocked = [];\n  const today = new Date().toDateString();\n  const todaySessions = allSessions.filter(s => new Date(s.endTime).toDateString() === today);\n  const totalCount = allSessions.length;\n\n  // é¦–æ¬¡ä¸“æ³¨ (åªè¦å®Œæˆä»»æ„ä¸€æ¬¡æœ‰æ•ˆä¸“æ³¨å³å¯)\n  if (totalCount === 1) unlocked.push('first_focus');\n\n  // æ·±å¤œ/æ¸…æ™¨\n  const hour = new Date(session.endTime).getHours();\n  if (hour >= 23 || hour < 5) unlocked.push('night_owl');\n  if (hour >= 5 && hour < 8) unlocked.push('early_bird');\n\n  // å‘¨æœ«\n  const day = new Date(session.endTime).getDay();\n  if (day === 0 || day === 6) unlocked.push('weekend');\n\n  // å•æ—¥8ä¸ª\n  if (todaySessions.length === 8) unlocked.push('marathon');\n  // å•æ—¥12ä¸ª\n  if (todaySessions.length === 12) unlocked.push('perfect_day');\n\n  // ä¸–çºªä¸“æ³¨\n  if (totalCount === 100) unlocked.push('century');\n\n  // æ·±å¤œ/æ¸…æ™¨10æ¬¡\n  const nightCount = allSessions.filter(s => {\n    const h = new Date(s.endTime).getHours();\n    return h >= 23 || h < 5;\n  }).length;\n  if (nightCount === 10) unlocked.push('night_10');\n\n  const morningCount = allSessions.filter(s => {\n    const h = new Date(s.endTime).getHours();\n    return h >= 5 && h < 8;\n  }).length;\n  if (morningCount === 10) unlocked.push('morning_10');\n\n  // è¿èƒœæ£€æŸ¥\n  // ä½¿ç”¨ allSessions è€Œä¸æ˜¯ sessionsï¼Œå› ä¸º sessions æ˜¯ä¼ å…¥çš„å‚æ•°åï¼Œä½† calculateStreak éœ€è¦æ‰€æœ‰ä¼šè¯\n  const streak = calculateStreak(allSessions);\n  if (streak >= 3) unlocked.push('streak_3');\n  if (streak >= 7) unlocked.push('streak_7');\n\n  return unlocked;\n}\n\n// è®¡ç®—è¿ç»­å¤©æ•°\nexport function calculateStreak (sessions) {\n  if (!sessions.length) return 0;\n\n  // è®¡ç®—è¿ç»­å¤©æ•°ï¼ˆä¼˜åŒ–ç‰ˆï¼Œè§£å†³è·¨æœˆ/è·¨å¹´è®¡ç®—é—®é¢˜ï¼‰\n  const dates = sessions\n    .map(s => new Date(s.endTime).setHours(0, 0, 0, 0)) // è½¬æ¢ä¸ºå½“æ—¥é›¶ç‚¹æ—¶é—´æˆ³\n    .filter((v, i, a) => a.indexOf(v) === i) // å»é‡\n    .sort((a, b) => b - a); // é™åºæ’åˆ—\n\n  let streak = 0;\n  const today = new Date().setHours(0, 0, 0, 0);\n  const yesterday = today - 86400000;\n\n  // æ£€æŸ¥ä»Šå¤©æˆ–æ˜¨å¤©æ˜¯å¦å®Œæˆï¼ˆå…è®¸ä»Šå¤©è¿˜æ²¡åšï¼Œä½†æ˜¨å¤©åšäº†ä¹Ÿç®—å»¶ç»­ä¸­ï¼‰\n  if (dates[0] === today || dates[0] === yesterday) {\n    streak = 1;\n    for (let i = 1; i < dates.length; i++) {\n      const prevDate = dates[i - 1];\n      const currDate = dates[i];\n      // è®¡ç®—ä¸¤ä¸ªæ—¥æœŸçš„æ—¶é—´æˆ³å·®å€¼æ˜¯å¦çº¦ä¸º24å°æ—¶ï¼ˆè€ƒè™‘å¤ä»¤æ—¶å¯èƒ½æœ‰åå·®ï¼Œå–æ•´å¤©æ•°ï¼‰\n      const diffDays = Math.round((prevDate - currDate) / 86400000);\n\n      if (diffDays === 1) {\n        streak++;\n      } else {\n        break;\n      }\n    }\n  }\n\n  return streak;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/hooks/useAchievements.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ACHIEVEMENTS, checkAchievements, calculateStreak } from '../utils/achievements';\n\nexport function useAchievements() {\n  const [unlocked, setUnlocked] = useState(() => {\n    if (typeof window === 'undefined') return [];\n    const saved = localStorage.getItem('focus-achievements');\n    return saved ? JSON.parse(saved) : [];\n  });\n  \n  const [newlyUnlocked, setNewlyUnlocked] = useState([]);\n  \n  useEffect(() => {\n    localStorage.setItem('focus-achievements', JSON.stringify(unlocked));\n  }, [unlocked]);\n  \n  const checkNewAchievements = (session, allSessions) => {\n    const newly = checkAchievements(session, allSessions);\n    const trulyNew = newly.filter(id => !unlocked.includes(id));\n    \n    if (trulyNew.length > 0) {\n      setUnlocked(prev => [...prev, ...trulyNew]);\n      setNewlyUnlocked(trulyNew);\n      // æ¸…ç©ºæ–°æˆå°±æç¤º\n      setTimeout(() => setNewlyUnlocked([]), 5000);\n    }\n    \n    return trulyNew;\n  };\n  \n  const getAchievement = (id) => ACHIEVEMENTS.find(a => a.id === id);\n  \n  return {\n    unlocked,\n    newlyUnlocked,\n    checkNewAchievements,\n    getAchievement,\n    allAchievements: ACHIEVEMENTS\n  };\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,wCAAmC,OAAO,EAAE;;;QAC5C,MAAM;IAER;IAEA,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAErD,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,sBAAsB,KAAK,SAAS,CAAC;IAC5D,GAAG;QAAC;KAAS;IAEb,MAAM,uBAAuB,CAAC,SAAS;QACrC,MAAM,QAAQ,IAAA,iJAAiB,EAAC,SAAS;QACzC,MAAM,WAAW,MAAM,MAAM,CAAC,CAAA,KAAM,CAAC,SAAS,QAAQ,CAAC;QAEvD,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,YAAY,CAAA,OAAQ;uBAAI;uBAAS;iBAAS;YAC1C,iBAAiB;YACjB,UAAU;YACV,WAAW,IAAM,iBAAiB,EAAE,GAAG;QACzC;QAEA,OAAO;IACT;IAEA,MAAM,iBAAiB,CAAC,KAAO,4IAAY,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAE/D,OAAO;QACL;QACA;QACA;QACA;QACA,iBAAiB,4IAAY;IAC/B;AACF"}},
    {"offset": {"line": 418, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/hooks/useLevel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport function useLevel() {\n  const [XP, setXP] = useState(() => {\n    if (typeof window === 'undefined') return 0;\n    return parseInt(localStorage.getItem('focus-xp') || '0');\n  });\n  \n  const level = Math.floor(Math.sqrt(XP) / 10) + 1;\n  const xpForNext = Math.pow(level * 10, 2);\n  const xpForCurrent = Math.pow((level - 1) * 10, 2);\n  const xpProgress = XP - xpForCurrent;\n  const xpNeeded = xpForNext - xpForCurrent;\n  \n  useEffect(() => {\n    localStorage.setItem('focus-xp', XP.toString());\n  }, [XP]);\n  \n  const addXP = (amount) => {\n    const newXP = XP + amount;\n    const newLevel = Math.floor(Math.sqrt(newXP) / 10) + 1;\n    const leveledUp = newLevel > level;\n    \n    setXP(newXP);\n    return { newXP, newLevel, leveledUp };\n  };\n  \n  return {\n    XP,\n    level,\n    xpProgress,\n    xpNeeded,\n    addXP\n  };\n}"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,iNAAQ,EAAC;QAC3B,wCAAmC,OAAO;;;IAE5C;IAEA,MAAM,QAAQ,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,MAAM,MAAM;IAC/C,MAAM,YAAY,KAAK,GAAG,CAAC,QAAQ,IAAI;IACvC,MAAM,eAAe,KAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI;IAChD,MAAM,aAAa,KAAK;IACxB,MAAM,WAAW,YAAY;IAE7B,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,YAAY,GAAG,QAAQ;IAC9C,GAAG;QAAC;KAAG;IAEP,MAAM,QAAQ,CAAC;QACb,MAAM,QAAQ,KAAK;QACnB,MAAM,WAAW,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,SAAS,MAAM;QACrD,MAAM,YAAY,WAAW;QAE7B,MAAM;QACN,OAAO;YAAE;YAAO;YAAU;QAAU;IACtC;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 463, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/AchievementManager.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport { Trophy, X, Star, Zap } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { useAchievements } from '../hooks/useAchievements';\nimport { useLevel } from '../hooks/useLevel';\n\nexport function AchievementManager({ session, onComplete }) {\n  const { checkNewAchievements, newlyUnlocked, getAchievement } = useAchievements();\n  const { addXP, level, leveledUp } = useLevel();\n  const [showLevelUp, setShowLevelUp] = useState(false);\n  const [currentAchievement, setCurrentAchievement] = useState(null);\n  const [showShareCard, setShowShareCard] = useState(false);\n  const [achievementsToShow, setAchievementsToShow] = useState([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const { currentTheme } = useTheme();\n  const { t } = useLanguage();\n\n  useEffect(() => {\n    if (!session || isProcessing) return;\n\n    setIsProcessing(true);\n\n    // æ·»åŠ ç»éªŒå€¼ï¼ˆæ¯åˆ†é’Ÿ1XPï¼‰\n    const xpGained = Math.floor(session.duration / 60);\n    const { newXP, newLevel, leveledUp: newLevelUp } = addXP(xpGained);\n\n    if (newLevelUp) {\n      setShowLevelUp(true);\n      setTimeout(() => setShowLevelUp(false), 3000);\n    }\n\n    // æ£€æŸ¥æ–°æˆå°±\n    const allSessions = JSON.parse(localStorage.getItem('focus-sessions') || '[]');\n    const newAchievements = checkNewAchievements(session, allSessions);\n\n    if (newAchievements.length > 0) {\n      setAchievementsToShow(newAchievements);\n      // æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ–°æˆå°±\n      setTimeout(() => {\n        setCurrentAchievement(getAchievement(newAchievements[0]));\n      }, 500);\n    } else {\n      // æ²¡æœ‰æ–°æˆå°±ï¼Œç›´æ¥æ˜¾ç¤ºåˆ†äº«å¡ç‰‡\n      setTimeout(() => {\n        setShowShareCard(true);\n        setIsProcessing(false);\n      }, 1000);\n    }\n  }, [session, isProcessing]);\n\n  const handleCloseAchievement = () => {\n    setCurrentAchievement(null);\n\n    // ç§»é™¤å·²æ˜¾ç¤ºçš„æˆå°±\n    const remaining = achievementsToShow.slice(1);\n    setAchievementsToShow(remaining);\n\n    // å¦‚æœè¿˜æœ‰æœªæ˜¾ç¤ºçš„æˆå°±ï¼Œç»§ç»­æ˜¾ç¤º\n    if (remaining.length > 0) {\n      setTimeout(() => {\n        setCurrentAchievement(getAchievement(remaining[0]));\n      }, 500);\n    } else {\n      // æ‰€æœ‰æˆå°±æ˜¾ç¤ºå®Œæ¯•ï¼Œæ˜¾ç¤ºåˆ†äº«å¡ç‰‡\n      setTimeout(() => {\n        setShowShareCard(true);\n        setIsProcessing(false);\n      }, 500);\n    }\n  };\n\n  const handleCloseShareCard = () => {\n    setShowShareCard(false);\n    if (onComplete) onComplete();\n  };\n\n  return (\n    <>\n      {/* æˆå°±å¼¹çª— */}\n      {currentAchievement && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fade-in\">\n          <div className={clsx(\n            \"rounded-2xl p-8 text-center transform animate-bounce-in max-w-sm mx-4 relative overflow-hidden\",\n            currentTheme.colors.card,\n            \"border-2 border-yellow-400/50\"\n          )}>\n            {/* è£…é¥°æ€§å…‰èŠ’æ•ˆæœ */}\n            <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-400/20 via-transparent to-yellow-400/20 animate-pulse\"></div>\n\n            <div className=\"relative z-10\">\n              <div className=\"text-6xl mb-4 animate-bounce\">{currentAchievement.icon}</div>\n              <div className=\"flex items-center justify-center gap-2 mb-2\">\n                <Trophy className=\"text-yellow-500\" size={24} />\n                <h3 className=\"text-2xl font-bold text-white\">ğŸ‰ {t('Achievement Unlocked!')}</h3>\n                <Trophy className=\"text-yellow-500\" size={24} />\n              </div>\n              <h4 className=\"text-xl font-semibold text-yellow-400 mb-3\">{currentAchievement.name}</h4>\n              <p className=\"text-gray-300 mb-6\">{currentAchievement.desc}</p>\n\n              {/* æˆå°±è¿›åº¦æŒ‡ç¤ºå™¨ */}\n              <div className=\"flex justify-center gap-1 mb-6\">\n                {[...Array(3)].map((_, i) => (\n                  <div\n                    key={i}\n                    className={clsx(\n                      \"w-2 h-2 rounded-full\",\n                      i === 0 ? \"bg-yellow-400\" : \"bg-gray-600\"\n                    )}\n                  />\n                ))}\n              </div>\n\n              <button\n                onClick={handleCloseAchievement}\n                className={clsx(\n                  \"px-6 py-3 rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95 font-semibold\",\n                  \"bg-gradient-to-r from-yellow-400 to-orange-500 text-black hover:from-yellow-300 hover:to-orange-400\",\n                  \"shadow-lg hover:shadow-xl\"\n                )}\n              >\n                <span className=\"flex items-center gap-2\">\n                  <Star size={16} />\n                  {t('Awesome!')}\n                  <Star size={16} />\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* ç­‰çº§æå‡æç¤º */}\n      {showLevelUp && (\n        <div className=\"fixed top-4 right-4 bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-6 py-3 rounded-lg shadow-lg animate-slide-in z-40\">\n          <div className=\"flex items-center gap-2\">\n            <Zap className=\"text-yellow-300 animate-pulse\" size={20} />\n            <div>\n              <div className=\"font-bold\">ğŸ‰ {t('Level Up!')}</div>\n              <div className=\"text-sm opacity-90\">{t('Level')} {level}</div>\n            </div>\n            <Zap className=\"text-yellow-300 animate-pulse\" size={20} />\n          </div>\n        </div>\n      )}\n\n      {/* åˆ†äº«å¡ç‰‡ */}\n      {showShareCard && (\n        <ShareCard\n          session={session}\n          onClose={handleCloseShareCard}\n        />\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/ShareCard.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport { Trophy, Download, Share, X } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { useLevel } from '../hooks/useLevel';\nimport confetti from 'canvas-confetti';\n\nexport function ShareCard({ session, onClose }) {\n  const { currentTheme } = useTheme();\n  const { t, language } = useLanguage();\n  const canvasRef = useRef(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [hasGenerated, setHasGenerated] = useState(false);\n\n  const quotes = {\n    zh: [\n      \"ä¸“æ³¨å½“ä¸‹ï¼Œæˆå°±æœªæ¥\",\n      \"æ¯ä¸€åˆ†é’Ÿéƒ½æ˜¯è¿›æ­¥\",\n      \"åšæŒå°±æ˜¯èƒœåˆ©\",\n      \"ä»Šå¤©çš„åŠªåŠ›ï¼Œæ˜å¤©çš„æ”¶è·\",\n      \"ä¸“æ³¨è®©æ¢¦æƒ³æ›´è¿‘\",\n      \"æ—¶é—´ç”¨åœ¨åˆ€åˆƒä¸Š\",\n      \"ä¸“æ³¨æ˜¯æœ€é«˜æ•ˆçš„å·¥ä½œæ–¹å¼\",\n      \"é™ä¸‹å¿ƒæ¥ï¼Œä¸–ç•Œå°±é™äº†\"\n    ],\n    en: [\n      \"Focus on the present, achieve the future\",\n      \"Every minute is progress\",\n      \"Persistence is victory\",\n      \"Today's effort, tomorrow's harvest\",\n      \"Focus brings dreams closer\",\n      \"Time well spent\",\n      \"Focus is the most efficient way to work\",\n      \"Quiet your mind, the world becomes quiet\"\n    ]\n  };\n\n  // ç»„ä»¶æŒ‚è½½åç«‹å³ç”Ÿæˆå¡ç‰‡\n  useEffect(() => {\n    generateCard();\n  }, []);\n\n  const generateCard = async () => {\n    setIsGenerating(true);\n\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    // è®¾ç½®ç”»å¸ƒå°ºå¯¸\n    canvas.width = 1080;\n    canvas.height = 1080;\n\n    // èƒŒæ™¯æ¸å˜\n    const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);\n    gradient.addColorStop(0, '#1f2937');\n    gradient.addColorStop(1, '#111827');\n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // æ·»åŠ è£…é¥°æ€§åœ†å½¢\n    ctx.fillStyle = 'rgba(99, 102, 241, 0.1)';\n    ctx.beginPath();\n    ctx.arc(canvas.width - 200, 200, 300, 0, Math.PI * 2);\n    ctx.fill();\n\n    // æ ‡é¢˜\n    ctx.fillStyle = '#ffffff';\n    ctx.font = 'bold 72px sans-serif';\n    ctx.textAlign = 'center';\n    const title = language === 'zh' ? 'ğŸ¯ ä¸“æ³¨å®Œæˆï¼' : 'ğŸ¯ Focus Complete!';\n    ctx.fillText(title, canvas.width / 2, 200);\n\n    // æ—¶é—´æ•°æ®\n    const minutes = Math.floor(session.duration / 60);\n    ctx.font = 'bold 120px sans-serif';\n    ctx.fillStyle = '#6366f1';\n    ctx.fillText(`${minutes}`, canvas.width / 2, 400);\n\n    ctx.font = '48px sans-serif';\n    ctx.fillStyle = '#9ca3af';\n    const unit = language === 'zh' ? 'åˆ†é’Ÿ' : 'minutes';\n    ctx.fillText(unit, canvas.width / 2, 480);\n\n    // åŠ±å¿—è¯­å½•\n    const currentQuotes = quotes[language];\n    const quote = currentQuotes[Math.floor(Math.random() * currentQuotes.length)];\n    ctx.font = '42px sans-serif';\n    ctx.fillStyle = '#e5e7eb';\n    ctx.fillText(`\"${quote}\"`, canvas.width / 2, 650);\n\n    // åº•éƒ¨å“ç‰Œ\n    ctx.font = '32px sans-serif';\n    ctx.fillStyle = '#6b7280';\n    const brand = language === 'zh' ? 'Focus App - ä¸“æ³¨è®©æ¢¦æƒ³æ›´è¿‘' : 'Focus App - Focus Makes Dreams Closer';\n    ctx.fillText(brand, canvas.width / 2, canvas.height - 100);\n\n    setIsGenerating(false);\n    setHasGenerated(true);\n  };\n\n  const downloadCard = () => {\n    const canvas = canvasRef.current;\n    canvas.toBlob((blob) => {\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      const filename = language === 'zh' ? `focus-${Date.now()}.png` : `focus-card-${Date.now()}.png`;\n      a.download = filename;\n      a.click();\n      URL.revokeObjectURL(url);\n    });\n  };\n\n  const shareCard = async () => {\n    const canvas = canvasRef.current;\n    canvas.toBlob(async (blob) => {\n      const file = new File([blob], 'focus-card.png', { type: 'image/png' });\n\n      if (navigator.share && navigator.canShare({ files: [file] })) {\n        try {\n          const title = language === 'zh' ? 'ä¸“æ³¨å®Œæˆï¼' : 'Focus Complete!';\n          const text = language === 'zh'\n            ? `æˆ‘åˆšåˆšä¸“æ³¨äº†${Math.floor(session.duration / 60)}åˆ†é’Ÿï¼Œä¸€èµ·æ¥ä¸“æ³¨å§ï¼`\n            : `I just focused for ${Math.floor(session.duration / 60)} minutes, let's focus together!`;\n\n          await navigator.share({\n            title: title,\n            text: text,\n            files: [file]\n          });\n        } catch (err) {\n          console.log('åˆ†äº«å–æ¶ˆ');\n        }\n      } else {\n        // é™çº§ï¼šä¸‹è½½å›¾ç‰‡\n        downloadCard();\n      }\n    });\n  };\n\n  return (\n    <div className={clsx(\"fixed inset-0 bg-black/50 flex items-center justify-center z-60 animate-fade-in\", currentTheme.colors.text)}>\n      <div className={clsx(\"rounded-2xl p-6 max-w-md w-full mx-4 transform animate-bounce-in\", currentTheme.colors.card)}>\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-xl font-bold flex items-center gap-2 animate-float\">\n            <Trophy size={24} className=\"text-yellow-500\" />\n            {t('Share Your Focus')}\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"opacity-60 hover:opacity-100 transition-opacity hover:rotate-90 transform\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        <div className=\"mb-4\">\n          <canvas\n            ref={canvasRef}\n            className=\"w-full rounded-lg border border-white/10 share-card-canvas\"\n            style={{ maxWidth: '100%', height: 'auto' }}\n          />\n        </div>\n\n        <div className=\"flex gap-3\">\n          {!hasGenerated ? (\n            <button\n              onClick={generateCard}\n              disabled={isGenerating}\n              className={clsx(\n                \"flex-1 py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95\",\n                `bg-gradient-to-r from-${currentTheme.colors.primary}-500 to-${currentTheme.colors.primary}-600 text-white`,\n                isGenerating && \"opacity-50 cursor-not-allowed animate-pulse\"\n              )}\n            >\n              {isGenerating ? (\n                <>\n                  <div className=\"animate-spin inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2\"></div>\n                  {t('Loading...')}\n                </>\n              ) : (\n                `âœ¨ ${t('Generate Card')}`\n              )}\n            </button>\n          ) : (\n            <>\n              <button\n                onClick={downloadCard}\n                className={clsx(\n                  \"flex-1 py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2\",\n                  \"bg-gradient-to-r from-gray-600 to-gray-700 text-white hover:from-gray-500 hover:to-gray-600\"\n                )}\n              >\n                <Download size={16} />\n                {t('Download')}\n              </button>\n\n              <button\n                onClick={shareCard}\n                className={clsx(\n                  \"flex-1 py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2\",\n                  \"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-400 hover:to-blue-500\"\n                )}\n              >\n                <Share size={16} />\n                {t('Share')}\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1062, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/Timer.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport { AchievementManager } from './AchievementManager';\nimport { ShareCard } from './ShareCard';\nimport { clsx } from 'clsx';\nimport { RotateCcw, Play, Pause } from 'lucide-react';\n\nexport function Timer() {\n  const [timeLeft, setTimeLeft] = useState(25 * 60);\n  const [isActive, setIsActive] = useState(false);\n  const [mode, setMode] = useState('focus'); // 'focus' | 'shortBreak' | 'longBreak' | 'custom'\n  const [customDuration, setCustomDuration] = useState(30); // minutes\n  const [completedSession, setCompletedSession] = useState(null);\n  const [showShareCard, setShowShareCard] = useState(false);\n  const { currentTheme, theme } = useTheme();\n  const { t } = useLanguage();\n\n  // å®šä¹‰æ¯ä¸ªä¸»é¢˜å¯¹åº”çš„å…·ä½“æ ·å¼ç±»åï¼Œç¡®ä¿ Tailwind èƒ½æ­£ç¡®ç”Ÿæˆ CSS\n  const themeStyles = {\n    default: {\n      gradient: 'bg-gradient-to-b from-indigo-500/50 to-indigo-700/80',\n      waveMain: 'text-indigo-500',\n      waveMid: 'text-indigo-400',\n      waveLight: 'text-indigo-300',\n      bubble: 'bg-indigo-200',\n      pulse: 'from-indigo-400/20',\n      btnBg: 'bg-indigo-500 hover:bg-indigo-400 shadow-indigo-500/30',\n      btnActive: 'bg-indigo-600',\n      progress: 'bg-indigo-500',\n      waveFill: 'bg-indigo-500/20'\n    },\n    forest: {\n      gradient: 'bg-gradient-to-b from-emerald-500/50 to-emerald-700/80',\n      waveMain: 'text-emerald-500',\n      waveMid: 'text-emerald-400',\n      waveLight: 'text-emerald-300',\n      bubble: 'bg-emerald-200',\n      pulse: 'from-emerald-400/20',\n      btnBg: 'bg-emerald-500 hover:bg-emerald-400 shadow-emerald-500/30',\n      btnActive: 'bg-emerald-600',\n      progress: 'bg-emerald-500',\n      waveFill: 'bg-emerald-500/20'\n    },\n    sunset: {\n      gradient: 'bg-gradient-to-b from-orange-500/50 to-orange-700/80',\n      waveMain: 'text-orange-500',\n      waveMid: 'text-orange-400',\n      waveLight: 'text-orange-300',\n      bubble: 'bg-orange-200',\n      pulse: 'from-orange-400/20',\n      btnBg: 'bg-orange-500 hover:bg-orange-400 shadow-orange-500/30',\n      btnActive: 'bg-orange-600',\n      progress: 'bg-orange-500',\n      waveFill: 'bg-orange-500/20'\n    },\n    ocean: {\n      gradient: 'bg-gradient-to-b from-cyan-500/50 to-cyan-700/80',\n      waveMain: 'text-cyan-500',\n      waveMid: 'text-cyan-400',\n      waveLight: 'text-cyan-300',\n      bubble: 'bg-cyan-200',\n      pulse: 'from-cyan-400/20',\n      btnBg: 'bg-cyan-500 hover:bg-cyan-400 shadow-cyan-500/30',\n      btnActive: 'bg-cyan-600',\n      progress: 'bg-cyan-500',\n      waveFill: 'bg-cyan-500/20'\n    }\n  };\n\n  const currentStyles = themeStyles[theme] || themeStyles.default;\n\n  // ç”Ÿæˆç¨³å®šçš„æ°”æ³¡é…ç½®ï¼Œé¿å…é‡æ¸²æŸ“æ—¶è·³åŠ¨\n  const bubbles = useMemo(() => {\n    return Array.from({ length: 15 }).map((_, i) => ({\n      id: i,\n      size: 4 + Math.random() * 8, // 4-12px\n      left: 5 + Math.random() * 90, // 5-95%\n      duration: 8 + Math.random() * 12, // 8-20s (æ›´æ…¢æ›´è‡ªç„¶)\n      delay: Math.random() * 10, // 0-10s å»¶è¿Ÿï¼Œé”™è½æœ‰è‡´\n      swayDuration: 3 + Math.random() * 4, // 3-7s æ‘†åŠ¨å‘¨æœŸ\n      opacity: 0.3 + Math.random() * 0.4 // 0.3-0.7 é€æ˜åº¦\n    }));\n  }, []);\n\n  useEffect(() => {\n    let interval = null;\n    if (isActive && timeLeft > 0) {\n      interval = setInterval(() => {\n        setTimeLeft((timeLeft) => timeLeft - 1);\n      }, 1000);\n    } else if (timeLeft === 0 && isActive) {\n      setIsActive(false);\n      // è®°å½•å®Œæˆçš„ä¼šè¯\n      const session = {\n        id: Date.now(),\n        duration: mode === 'focus' ? 25 * 60 : mode === 'shortBreak' ? 5 * 60 : mode === 'longBreak' ? 15 * 60 : customDuration * 60,\n        endTime: new Date().toISOString(),\n        mode: mode\n      };\n\n      // ä¿å­˜åˆ°æœ¬åœ°è®°å½•\n      const sessions = JSON.parse(localStorage.getItem('focus-sessions') || '[]');\n      sessions.push(session);\n      localStorage.setItem('focus-sessions', JSON.stringify(sessions));\n\n      setCompletedSession(session);\n\n      // æ’­æ”¾å®ŒæˆéŸ³æ•ˆ\n      playCompleteSound();\n\n      // è®¡æ—¶ç»“æŸåé‡ç½®æ—¶é—´ï¼Œé˜²æ­¢ç”¨æˆ·åœ¨æœªé‡ç½®çš„æƒ…å†µä¸‹åˆ‡æ¢æ¨¡å¼å¯¼è‡´çŠ¶æ€æ··ä¹±\n      if (mode === 'focus') setTimeLeft(25 * 60);\n      else if (mode === 'shortBreak') setTimeLeft(5 * 60);\n      else if (mode === 'longBreak') setTimeLeft(15 * 60);\n      else setTimeLeft(customDuration * 60);\n    }\n    return () => clearInterval(interval);\n  }, [isActive, timeLeft, mode]);\n\n  const toggleTimer = () => {\n    setIsActive(!isActive);\n  };\n\n  const resetTimer = () => {\n    setIsActive(false);\n    if (mode === 'focus') setTimeLeft(25 * 60);\n    else if (mode === 'shortBreak') setTimeLeft(5 * 60);\n    else if (mode === 'longBreak') setTimeLeft(15 * 60);\n    else setTimeLeft(customDuration * 60);\n  };\n\n  const switchMode = (newMode) => {\n    // å¦‚æœå·²ç»åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œä¸åšä»»ä½•æ“ä½œ\n    if (mode === newMode) return;\n\n    setMode(newMode);\n    setIsActive(false);\n    if (newMode === 'focus') setTimeLeft(25 * 60);\n    else if (newMode === 'shortBreak') setTimeLeft(5 * 60);\n    else if (newMode === 'longBreak') setTimeLeft(15 * 60);\n    else setTimeLeft(customDuration * 60);\n\n    // åˆ‡æ¢æ¨¡å¼æ—¶ï¼Œå¦‚æœä¹‹å‰æœ‰å®Œæˆçš„ä¼šè¯å¼¹çª—ï¼Œå…³é—­å®ƒ\n    setCompletedSession(null);\n    setShowShareCard(false);\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const progress = mode === 'focus'\n    ? ((25 * 60 - timeLeft) / (25 * 60)) * 100\n    : mode === 'shortBreak'\n      ? ((5 * 60 - timeLeft) / (5 * 60)) * 100\n      : mode === 'longBreak'\n        ? ((15 * 60 - timeLeft) / (15 * 60)) * 100\n        : ((customDuration * 60 - timeLeft) / (customDuration * 60)) * 100;\n\n  const playCompleteSound = () => {\n    // ç®€å•çš„å®ŒæˆéŸ³æ•ˆ\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const oscillator = audioContext.createOscillator();\n    const gainNode = audioContext.createGain();\n\n    oscillator.connect(gainNode);\n    gainNode.connect(audioContext.destination);\n\n    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n    oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);\n    oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n\n    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);\n\n    oscillator.start(audioContext.currentTime);\n    oscillator.stop(audioContext.currentTime + 0.3);\n  };\n\n  const handleAchievementComplete = () => {\n    setCompletedSession(null);\n    // å»¶è¿Ÿæ˜¾ç¤ºåˆ†äº«å¡ç‰‡\n    setTimeout(() => {\n      setShowShareCard(true);\n    }, 500);\n  };\n\n  const handleCloseShareCard = () => {\n    setShowShareCard(false);\n  };\n\n  return (\n    <div className={clsx(\"flex flex-col items-center justify-center p-8 rounded-2xl shadow-xl relative overflow-hidden transition-colors\", currentTheme.colors.card)}>\n      {/* åŠ¨æ€èƒŒæ™¯è¿›åº¦æ•ˆæœ */}\n      <div className=\"absolute inset-0 rounded-2xl overflow-hidden\">\n        {/* æ¶²ä½“æ³¢æµªæ•ˆæœ */}\n        <div\n          className=\"absolute bottom-0 left-0 w-full transition-all duration-1000 ease-out\"\n          style={{\n            height: `${progress}%`,\n            transition: 'height 1s ease-out',\n            opacity: progress > 0 ? 1 : 0\n          }}\n        >\n          {/* å¤šå±‚æ¶²ä½“æ³¢æµª */}\n          <svg className=\"absolute top-0 left-0 w-[200%] h-16\" viewBox=\"0 0 1200 80\" preserveAspectRatio=\"none\" style={{ transform: 'translateY(-50%) translateX(-25%)' }}>\n            {/* ä¸»æ³¢æµªå±‚ */}\n            <path\n              d=\"M0,40 Q200,10 400,40 T800,40 Q1000,70 1200,40 L1200,80 L0,80 Z\"\n              className={clsx(\"fill-current opacity-60\", currentStyles.waveMain)}\n              style={{\n                animation: 'liquidWave 3s ease-in-out infinite',\n                transformOrigin: 'center'\n              }}\n            />\n            {/* ä¸­å±‚æ³¢æµª */}\n            <path\n              d=\"M0,50 Q300,20 600,50 T1000,50 Q1100,75 1200,50 L1200,80 L0,80 Z\"\n              className={clsx(\"fill-current opacity-40\", currentStyles.waveMid)}\n              style={{\n                animation: 'liquidWave 4s ease-in-out infinite reverse',\n                transformOrigin: 'center',\n                animationDelay: '0.5s'\n              }}\n            />\n            {/* ç»†è…»æ³¢æµª */}\n            <path\n              d=\"M0,60 Q400,45 800,60 T1200,60 L1200,80 L0,80 Z\"\n              className={clsx(\"fill-current opacity-25\", currentStyles.waveLight)}\n              style={{\n                animation: 'liquidWave 5s ease-in-out infinite',\n                transformOrigin: 'center',\n                animationDelay: '1s'\n              }}\n            />\n          </svg>\n\n          {/* æ·±æµ·èƒŒæ™¯å¡«å…… - å¢å¼ºé¢œè‰²æ ‡è®° */}\n          <div className={clsx(\"absolute top-0 left-0 w-full h-full\", currentStyles.gradient)} >\n            {/* åŠ¨æ€æ°”æ³¡æ•ˆæœ - ä¼˜åŒ–ç‰ˆ */}\n            <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n              {bubbles.map((bubble) => (\n                <div\n                  key={bubble.id}\n                  className={clsx(\"absolute rounded-full\", currentStyles.bubble)}\n                  style={{\n                    width: `${bubble.size}px`,\n                    height: `${bubble.size}px`,\n                    left: `${bubble.left}%`,\n                    bottom: '-20px',\n                    opacity: 0, // åˆå§‹é€æ˜ï¼Œé€šè¿‡åŠ¨ç”»æ§åˆ¶æ˜¾ç¤º\n                    '--bubble-opacity': bubble.opacity,\n                    animation: `bubbleRise ${bubble.duration}s infinite linear, sway ${bubble.swayDuration}s infinite ease-in-out alternate`,\n                    animationDelay: `${bubble.delay}s`,\n                    animationPlayState: isActive ? 'running' : 'paused'\n                  }}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* è„‰å†²å…‰æ™•æ•ˆæœ */}\n        {isActive && (\n          <div\n            className={clsx(\"absolute bottom-0 left-0 w-full transition-all duration-1000 ease-out opacity-30\", `bg-gradient-to-t ${currentStyles.pulse} to-transparent`)}\n            style={{\n              height: `${progress * 1.2}%`,\n              transform: `translateY(${100 - progress * 1.2}%)`,\n              transition: 'height 1s ease-out, transform 1s ease-out',\n              animation: 'pulseGlow 2s ease-in-out infinite alternate'\n            }}\n          />\n        )}\n      </div>\n\n      {/* æˆå°±ç®¡ç†å™¨ */}\n      {completedSession && (\n        <AchievementManager\n          session={completedSession}\n          onComplete={handleAchievementComplete}\n        />\n      )}\n\n      {/* åˆ†äº«å¡ç‰‡ */}\n      {showShareCard && completedSession && (\n        <ShareCard\n          session={completedSession}\n          onClose={handleCloseShareCard}\n        />\n      )}\n\n      {/* é¡¶éƒ¨è¿›åº¦æŒ‡ç¤ºå™¨ */}\n      <div\n        className={clsx(\"absolute top-0 left-0 h-1 transition-all duration-1000 ease-linear z-10\", currentStyles.progress)}\n        style={{ width: `${progress}%` }}\n      />\n\n      {/* æ¨¡å¼åˆ‡æ¢ */}\n      <div className=\"flex gap-2 mb-8 bg-black/20 p-1 rounded-lg relative z-20\">\n        <button\n          onClick={() => switchMode('focus')}\n          className={clsx(\n            \"px-4 py-2 rounded-md text-sm font-medium transition-all\",\n            mode === 'focus' ? `${currentStyles.btnActive} text-white shadow-lg` : \"opacity-60 hover:opacity-100\"\n          )}\n        >\n          {t('Focus')}\n        </button>\n        <button\n          onClick={() => switchMode('shortBreak')}\n          className={clsx(\n            \"px-4 py-2 rounded-md text-sm font-medium transition-all\",\n            mode === 'shortBreak' ? `${currentStyles.btnActive} text-white shadow-lg` : \"opacity-60 hover:opacity-100\"\n          )}\n        >\n          {t('Short Break')}\n        </button>\n         <button\n          onClick={() => switchMode('longBreak')}\n          className={clsx(\n            \"px-4 py-2 rounded-md text-sm font-medium transition-all\",\n            mode === 'longBreak' ? `${currentStyles.btnActive} text-white shadow-lg` : \"opacity-60 hover:opacity-100\"\n          )}\n        >\n          {t('Long Break')}\n        </button>\n        <button\n          onClick={() => switchMode('custom')}\n          className={clsx(\n            \"px-4 py-2 rounded-md text-sm font-medium transition-all\",\n            mode === 'custom' ? `${currentStyles.btnActive} text-white shadow-lg` : \"opacity-60 hover:opacity-100\"\n          )}\n        >\n          {t('Custom')}\n        </button>\n      </div>\n\n      {/* æ—¶é—´æ˜¾ç¤º */}\n      <div className=\"relative mb-8 z-20\">\n        {mode === 'custom' && !isActive ? (\n          <div className=\"flex items-center justify-center\">\n            <input\n              type=\"number\"\n              min=\"1\"\n              max=\"120\"\n              value={customDuration}\n              onInput={(e) => {\n                let val = parseInt(e.target.value);\n                if (isNaN(val) || val < 1) val = 1;\n                if (val > 120) val = 120;\n                setCustomDuration(val);\n                setTimeLeft(val * 60);\n              }}\n              className=\"text-8xl font-bold font-mono tracking-wider bg-transparent text-center w-64 focus:outline-none border-b-2 border-white/20 hover:border-white/50 transition-colors\"\n            />\n            <span className=\"text-xl opacity-60 ml-2 mt-8 font-medium\">min</span>\n          </div>\n        ) : (\n          <div className=\"text-8xl font-bold font-mono tracking-wider tabular-nums\">\n            {formatTime(timeLeft)}\n          </div>\n        )}\n      </div>\n\n      {/* æ§åˆ¶æŒ‰é’® */}\n      <div className=\"flex gap-4 relative z-20\">\n        <button\n          onClick={toggleTimer}\n          className={clsx(\n            \"w-16 h-16 flex items-center justify-center rounded-full text-white shadow-lg transition-all hover:scale-105 active:scale-95\",\n            currentStyles.btnBg\n          )}\n        >\n          {isActive ? (\n            <Pause className=\"w-8 h-8 fill-current\" />\n          ) : (\n            <Play className=\"w-8 h-8 ml-1 fill-current\" />\n          )}\n        </button>\n        <button\n          onClick={resetTimer}\n          className=\"w-16 h-16 flex items-center justify-center rounded-full bg-gray-700 hover:bg-gray-600 text-white transition-all hover:scale-105 active:scale-95\"\n          title={t('Reset')}\n        >\n          <RotateCcw className=\"w-6 h-6\" />\n        </button>\n      </div>\n\n      {/* CSSåŠ¨ç”»å®šä¹‰ */}\n      <style jsx>{`\n        @keyframes liquidWave {\n          0%, 100% {\n            transform: translateX(0) translateY(0) scaleY(1);\n          }\n          25% {\n            transform: translateX(-20px) translateY(-3px) scaleY(1.05);\n          }\n          50% {\n            transform: translateX(0) translateY(-6px) scaleY(1.1);\n          }\n          75% {\n            transform: translateX(20px) translateY(-3px) scaleY(1.05);\n          }\n        }\n\n        @keyframes bubbleRise {\n          0% {\n            bottom: -20px;\n            opacity: 0;\n            transform: scale(0.8);\n          }\n          10% {\n            opacity: var(--bubble-opacity, 0.6);\n            transform: scale(1);\n          }\n          90% {\n            opacity: var(--bubble-opacity, 0.6);\n            transform: scale(1);\n          }\n          100% {\n            bottom: 120%;\n            opacity: 0;\n            transform: scale(1.2);\n          }\n        }\n\n        @keyframes sway {\n          0% {\n            margin-left: -5px;\n          }\n          100% {\n            margin-left: 5px;\n          }\n        }\n\n        @keyframes pulseGlow {\n          0% {\n            opacity: 0.2;\n            filter: blur(2px);\n          }\n          100% {\n            opacity: 0.5;\n            filter: blur(4px);\n          }\n        }\n\n        .animate-liquid-wave {\n          animation: liquidWave 3s ease-in-out infinite;\n        }\n\n        .animate-bubble {\n          animation: bubble 4s ease-in-out infinite;\n        }\n\n        .animate-pulse-glow {\n          animation: pulseGlow 2s ease-in-out infinite alternate;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1553, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/TodoList.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { useLanguage } from '../context/LanguageContext';\nimport { Plus, Trash2, CheckCircle2, Circle, BarChart3, Calendar, Clock, TrendingUp } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { format, isSameDay, startOfWeek, endOfWeek, isWithinInterval, parseISO } from 'date-fns';\n\nexport function TodoList() {\n  const [todos, setTodos] = useState(() => {\n    if (typeof window === 'undefined') return [];\n    const saved = localStorage.getItem('focus-todos');\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [input, setInput] = useState('');\n  const [showStats, setShowStats] = useState(false);\n  const { currentTheme } = useTheme();\n  const { t } = useLanguage();\n\n  // ç»Ÿè®¡æ•°æ®\n  const stats = {\n    total: todos.length,\n    completed: todos.filter(t => t.completed).length,\n    pending: todos.filter(t => !t.completed).length,\n    completionRate: todos.length > 0 ? Math.round((todos.filter(t => t.completed).length / todos.length) * 100) : 0\n  };\n\n  // ä»Šæ—¥å®Œæˆç»Ÿè®¡\n  const todayCompleted = todos.filter(t => {\n    if (!t.completed || !t.completedAt) return false;\n    const today = new Date().toDateString();\n    const completedDate = new Date(t.completedAt).toDateString();\n    return today === completedDate;\n  }).length;\n\n  // æœ¬å‘¨å®Œæˆç»Ÿè®¡\n  const weekCompleted = todos.filter(t => {\n    if (!t.completed || !t.completedAt) return false;\n    const now = new Date();\n    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n    return new Date(t.completedAt) >= weekAgo;\n  }).length;\n\n  useEffect(() => {\n    localStorage.setItem('focus-todos', JSON.stringify(todos));\n  }, [todos]);\n\n  const addTodo = (e) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setTodos([...todos, { \n      id: Date.now(), \n      text: input, \n      completed: false,\n      createdAt: new Date().toISOString()\n    }]);\n    setInput('');\n  };\n\n  const toggleTodo = (id) => {\n    setTodos(todos.map(t => {\n      if (t.id === id) {\n        return { \n          ...t, \n          completed: !t.completed,\n          completedAt: !t.completed ? new Date().toISOString() : null\n        };\n      }\n      return t;\n    }));\n  };\n\n  const deleteTodo = (id) => {\n    setTodos(todos.filter(t => t.id !== id));\n  };\n\n  const clearCompleted = () => {\n    setTodos(todos.filter(t => !t.completed));\n  };\n\n  return (\n    <div className={clsx(\"rounded-2xl p-6 shadow-xl h-full flex flex-col min-h-[400px] transition-colors\", currentTheme.colors.card)}>\n      {/* å¤´éƒ¨åŒºåŸŸ */}\n      <div className=\"flex items-center justify-between mb-4\">\n        <h2 className=\"text-xl font-bold flex items-center gap-2\">\n          <span>ğŸ“</span> {t('Tasks')}\n        </h2>\n        <button\n          onClick={() => setShowStats(!showStats)}\n          className={clsx(\n            \"p-2 rounded-lg transition-colors\",\n            showStats ? `bg-${currentTheme.colors.primary}-600 text-white` : \"bg-black/20 hover:bg-black/30\"\n          )}\n          title={t('View Statistics')}\n        >\n          <BarChart3 size={20} />\n        </button>\n      </div>\n\n      {/* ç»Ÿè®¡é¢æ¿ */}\n      {showStats && (\n        <div className=\"mb-4 p-4 bg-black/10 rounded-lg border border-white/10\">\n          <h3 className=\"text-lg font-semibold mb-3 flex items-center gap-2\">\n            <TrendingUp size={20} className=\"text-blue-400\" />\n            ğŸ“Š {t('Task Statistics')}\n          </h3>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-blue-400\">{stats.total}</div>\n              <div className=\"text-xs text-gray-400\">{t('Total')}</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-green-400\">{stats.completed}</div>\n              <div className=\"text-xs text-gray-400\">{t('Completed')}</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-yellow-400\">{stats.pending}</div>\n              <div className=\"text-xs text-gray-400\">{t('Pending')}</div>\n            </div>\n            <div className=\"text-center\">\n              <div className=\"text-2xl font-bold text-purple-400\">{stats.completionRate}%</div>\n              <div className=\"text-xs text-gray-400\">{t('Completion Rate')}</div>\n            </div>\n          </div>\n          \n          {/* æ—¶é—´ç»´åº¦ç»Ÿè®¡ */}\n          <div className=\"mt-4 pt-4 border-t border-white/10\">\n            <h4 className=\"text-sm font-medium mb-2 flex items-center gap-2 text-gray-300\">\n              <Calendar size={16} className=\"text-emerald-400\" />\n              {t('Time Statistics')}\n            </h4>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"text-center\">\n                <div className=\"text-lg font-bold text-emerald-400\">{todayCompleted}</div>\n                <div className=\"text-xs text-gray-400\">{t('Today Completed')}</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-lg font-bold text-indigo-400\">{weekCompleted}</div>\n                <div className=\"text-xs text-gray-400\">{t('Week Completed')}</div>\n              </div>\n            </div>\n          </div>\n          \n          {/* è¿›åº¦æ¡ */}\n          <div className=\"mt-4\">\n            <div className=\"flex justify-between text-xs text-gray-400 mb-1\">\n              <span className=\"flex items-center gap-1\">\n                <Clock size={12} className=\"text-orange-400\" />\n                {t('Progress')}\n              </span>\n              <span>{stats.completionRate}%</span>\n            </div>\n            <div className=\"w-full bg-black/20 rounded-full h-2\">\n              <div \n                className={clsx(\"h-2 rounded-full transition-all duration-500\", `bg-${currentTheme.colors.primary}-500`)}\n                style={{ width: `${stats.completionRate}%` }}\n              />\n            </div>\n          </div>\n          \n          {/* æ¸…ç†æŒ‰é’® */}\n          {stats.completed > 0 && (\n            <button\n              onClick={clearCompleted}\n              className=\"mt-3 w-full py-2 px-3 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg transition-colors text-sm flex items-center justify-center gap-2\"\n            >\n              <Trash2 size={14} />\n              {t('Clear Completed')} ({stats.completed})\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* æ·»åŠ ä»»åŠ¡è¡¨å• */}\n      <form onSubmit={addTodo} className=\"flex gap-2 mb-4\">\n        <input\n          type=\"text\"\n          value={input}\n          onInput={(e) => setInput(e.target.value)}\n          placeholder={t('Add a new task...')}\n          className=\"flex-1 bg-black/20 border border-white/10 rounded-lg px-4 py-2 placeholder-white/30 focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-all\"\n        />\n        <button\n          type=\"submit\"\n          className={clsx(\"text-white p-2 rounded-lg transition-colors\", `bg-${currentTheme.colors.primary}-600 hover:bg-${currentTheme.colors.primary}-500`)}\n        >\n          <Plus size={24} />\n        </button>\n      </form>\n\n      {/* å¿«é€Ÿç»Ÿè®¡æ¡ */}\n      {!showStats && (\n        <div className=\"mb-4 flex justify-between text-sm text-gray-400\">\n          <span className=\"flex items-center gap-1\">\n            <BarChart3 size={12} />\n            {t('Total')}: {stats.total}\n          </span>\n          <span className=\"flex items-center gap-1\">\n            <CheckCircle2 size={12} className=\"text-green-400\" />\n            {t('Completed')}: {stats.completed}\n          </span>\n          <span className=\"flex items-center gap-1\">\n            <TrendingUp size={12} className=\"text-purple-400\" />\n            {t('Completion Rate')}: {stats.completionRate}%\n          </span>\n        </div>\n      )}\n\n      {/* ä»»åŠ¡åˆ—è¡¨ */}\n      <div className=\"space-y-2 overflow-y-auto flex-1 pr-2 custom-scrollbar\">\n        {todos.length === 0 && (\n            <div className=\"text-center opacity-50 py-8\">\n                {t('No tasks yet. Stay focused!')}\n            </div>\n        )}\n        {todos.map(todo => (\n          <div\n            key={todo.id}\n            className={clsx(\n              \"group flex items-center gap-3 p-3 rounded-lg transition-all hover:bg-black/10\",\n              todo.completed ? \"bg-black/20\" : \"bg-black/5\"\n            )}\n          >\n            <button\n              onClick={() => toggleTodo(todo.id)}\n              className={clsx(\n                \"transition-colors\",\n                todo.completed ? `text-${currentTheme.colors.primary}-500` : \"opacity-50 hover:opacity-100\"\n              )}\n            >\n              {todo.completed ? <CheckCircle2 size={20} /> : <Circle size={20} />}\n            </button>\n\n            <span className={clsx(\n              \"flex-1 text-sm transition-all\",\n              todo.completed ? \"opacity-40 line-through\" : \"opacity-90\"\n            )}>\n              {todo.text}\n            </span>\n\n            <button\n              onClick={() => deleteTodo(todo.id)}\n              className=\"opacity-0 group-hover:opacity-60 hover:opacity-100 transition-all hover:text-rose-500\"\n            >\n              <Trash2 size={18} />\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2188, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/SoundPlayer.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { Volume2, VolumeX, CloudRain, Wind, Coffee, Zap, Flame, Waves, Music } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { useTheme } from '../context/ThemeContext';\nimport { useLanguage } from '../context/LanguageContext';\n\n// è·å–éŸ³é¢‘æ–‡ä»¶çš„å®Œæ•´è·¯å¾„\nconst getAudioUrl = (path) => {\n  // ç§»é™¤å¼€å¤´çš„æ–œæ ï¼ˆå¦‚æœæœ‰ï¼‰\n  const cleanPath = path.startsWith('/') ? path.slice(1) : path;\n  \n  // åœ¨Next.jsä¸­ï¼Œä½¿ç”¨process.env.NEXT_PUBLIC_BASE_PATHæˆ–ç›´æ¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„\n  // å¦‚æœæ˜¯GitHub Pageséƒ¨ç½²ï¼Œéœ€è¦åŠ ä¸ŠbasePath\n  // å¦‚æœæ˜¯åœ¨Vercelæˆ–æœ¬åœ°å¼€å‘ï¼Œé€šå¸¸æ˜¯æ ¹è·¯å¾„\n  const basePath = process.env.NEXT_PUBLIC_BASE_PATH || '';\n  \n  return `${basePath}/${cleanPath}`;\n};\n\nconst SOUNDS = [\n  {\n    id: 'rain',\n    name: 'é›¨å£°',\n    icon: CloudRain,\n    src: 'calming-rain-257596.mp3'\n  },\n  {\n    id: 'fire',\n    name: 'ç¯ç«',\n    icon: Flame,\n    src: 'fire-crackling-sounds-427410.mp3'\n  },\n  {\n    id: 'cafe',\n    name: 'å’–å•¡å…',\n    icon: Coffee,\n    src: 'cafe-noise-32940.mp3'\n  },\n  {\n    id: 'ocean',\n    name: 'æµ·æµª',\n    icon: Waves,\n    src: 'ocean-waves-376898.mp3'\n  },\n  {\n    id: 'white',\n    name: 'ç™½å™ªéŸ³',\n    icon: Zap,\n    src: 'whitenoise-372485.mp3'\n  },\n  {\n    id: 'uplifting',\n    name: 'èˆ’ç¼“éŸ³',\n    icon: Music,\n    src: 'uplifting-pad-texture-113842.mp3'\n  }\n];\n\nexport function SoundPlayer() {\n  const [playing, setPlaying] = useState(null);\n  const [volume, setVolume] = useState(0.5);\n  const [audioStatus, setAudioStatus] = useState({});\n  const audioRefs = useRef({});\n  const { currentTheme } = useTheme();\n  const { t, language } = useLanguage();\n\n  useEffect(() => {\n    // åˆ›å»ºéŸ³é¢‘å…ƒç´ å¹¶å°è¯•åŠ è½½\n    SOUNDS.forEach(sound => {\n      const audio = new Audio();\n      audio.volume = volume;\n      audio.loop = true;\n      audio.preload = 'none'; // ä¸é¢„åŠ è½½ï¼ŒèŠ‚çœèµ„æº\n\n      const audioSrc = getAudioUrl(sound.src);\n      audio.src = audioSrc;\n\n      // æµ‹è¯•éŸ³é¢‘æ˜¯å¦å¯ç”¨\n      fetch(audioSrc, { method: 'HEAD' })\n        .then(response => {\n          if (response.ok) {\n            console.log(`âœ… éŸ³é¢‘æ–‡ä»¶å¯ç”¨: ${sound.name}`);\n            setAudioStatus(prev => ({ ...prev, [sound.id]: 'available' }));\n          } else {\n            console.error(`âŒ éŸ³é¢‘æ–‡ä»¶ä¸å¯ç”¨: ${sound.name} (${response.status})`);\n            setAudioStatus(prev => ({ ...prev, [sound.id]: 'missing' }));\n          }\n        })\n        .catch(error => {\n          console.error(`âŒ ç½‘ç»œé”™è¯¯: ${sound.name}`, error);\n          setAudioStatus(prev => ({ ...prev, [sound.id]: 'error' }));\n        });\n\n      // éŸ³é¢‘äº‹ä»¶ç›‘å¬\n      audio.addEventListener('loadeddata', () => {\n        console.log(`ğŸ“¦ éŸ³é¢‘åŠ è½½å®Œæˆ: ${sound.name}`);\n        setAudioStatus(prev => ({ ...prev, [sound.id]: 'loaded' }));\n      });\n\n      audio.addEventListener('error', (e) => {\n        console.error(`ğŸ’¥ éŸ³é¢‘é”™è¯¯: ${sound.name}`, e);\n        setAudioStatus(prev => ({ ...prev, [sound.id]: 'error' }));\n      });\n\n      audio.addEventListener('play', () => {\n        console.log(`â–¶ï¸ å¼€å§‹æ’­æ”¾: ${sound.name}`);\n      });\n\n      audio.addEventListener('pause', () => {\n        console.log(`â¸ï¸ æš‚åœæ’­æ”¾: ${sound.name}`);\n      });\n\n      audioRefs.current[sound.id] = audio;\n    });\n\n    return () => {\n      Object.values(audioRefs.current).forEach(audio => {\n        if (audio) {\n          audio.pause();\n          audio.currentTime = 0;\n        }\n      });\n    };\n  }, []);\n\n  useEffect(() => {\n    Object.values(audioRefs.current).forEach(audio => {\n      if (audio) audio.volume = volume;\n    });\n  }, [volume]);\n\n  const toggleSound = async (id) => {\n    const audio = audioRefs.current[id];\n    if (!audio) {\n      console.error('éŸ³é¢‘å¯¹è±¡ä¸å­˜åœ¨');\n      return;\n    }\n\n    if (playing === id) {\n      // åœæ­¢æ’­æ”¾\n      audio.pause();\n      audio.currentTime = 0;\n      setPlaying(null);\n    } else {\n      // åœæ­¢å…¶ä»–éŸ³é¢‘\n      if (playing) {\n        const prevAudio = audioRefs.current[playing];\n        if (prevAudio) {\n          prevAudio.pause();\n          prevAudio.currentTime = 0;\n        }\n      }\n\n      // æ’­æ”¾æ–°éŸ³é¢‘\n      try {\n        console.log(`ğŸ¯ å°è¯•æ’­æ”¾: ${SOUNDS.find(s => s.id === id)?.name}`);\n\n        await audio.play();\n        setPlaying(id);\n        console.log(`âœ… æ’­æ”¾æˆåŠŸ: ${SOUNDS.find(s => s.id === id)?.name}`);\n      } catch (error) {\n        console.error('âŒ æ’­æ”¾å¤±è´¥:', error);\n        alert(`æ’­æ”¾å¤±è´¥: ${error.message}. è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–éŸ³é¢‘æ–‡ä»¶ã€‚`);\n      }\n    }\n  };\n\n  return (\n    <div className={clsx(\"rounded-2xl p-6 shadow-xl h-full transition-colors flex flex-col\", currentTheme.colors.card)}>\n      <h2 className=\"text-xl font-bold mb-4 flex items-center gap-2\">\n        <span>ğŸµ</span> {t('Ambience')}\n      </h2>\n\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 flex-1\">\n        {SOUNDS.map(sound => {\n            const Icon = sound.icon;\n            const isPlaying = playing === sound.id;\n            const status = audioStatus[sound.id];\n\n            return (\n                <button\n                    key={sound.id}\n                    onClick={() => toggleSound(sound.id)}\n                    disabled={status === 'missing' || status === 'error'}\n                    className={clsx(\n                        \"flex flex-col items-center justify-center p-3 rounded-xl transition-all border-2 relative\",\n                        isPlaying\n                            ? `bg-${currentTheme.colors.primary}-600/20 border-${currentTheme.colors.primary}-500 text-${currentTheme.colors.primary}-400`\n                            : \"bg-black/10 border-transparent opacity-60 hover:opacity-100 hover:bg-black/20\",\n                        (status === 'missing' || status === 'error') && \"opacity-30 cursor-not-allowed border-red-500/50\",\n                        status === 'available' && \"border-green-500/50\"\n                    )}\n                >\n                    <Icon size={28} className=\"mb-2\" />\n                    <span className=\"text-xs font-medium\">{language === 'zh' ? sound.name : t(sound.id)}</span>\n\n                    {/* çŠ¶æ€æŒ‡ç¤ºå™¨ */}\n                    {status === 'loading' && (\n                        <div className=\"absolute top-1 right-1 w-2 h-2 bg-yellow-500 rounded-full animate-pulse\"></div>\n                    )}\n                    {status === 'error' && (\n                        <div className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"></div>\n                    )}\n                    {status === 'missing' && (\n                        <div className=\"absolute top-1 right-1 w-2 h-2 bg-gray-500 rounded-full\"></div>\n                    )}\n                    {isPlaying && (\n                        <div className=\"absolute bottom-1 left-1/2 transform -translate-x-1/2\">\n                            <div className=\"flex space-x-1\">\n                                <div className=\"w-1 h-1 bg-current rounded-full animate-bounce\" style={{animationDelay: '0ms'}}></div>\n                                <div className=\"w-1 h-1 bg-current rounded-full animate-bounce\" style={{animationDelay: '150ms'}}></div>\n                                <div className=\"w-1 h-1 bg-current rounded-full animate-bounce\" style={{animationDelay: '300ms'}}></div>\n                            </div>\n                        </div>\n                    )}\n                </button>\n            )\n        })}\n      </div>\n\n      <div className=\"mt-6 flex items-center gap-4 bg-black/20 p-3 rounded-lg\">\n        <Volume2 size={20} className=\"opacity-60\" />\n        <input\n            type=\"range\"\n            min=\"0\"\n            max=\"1\"\n            step=\"0.01\"\n            value={volume}\n            onInput={(e) => setVolume(parseFloat(e.target.value))}\n            className={clsx(\"w-full h-2 rounded-lg appearance-none cursor-pointer bg-black/40\", `accent-${currentTheme.colors.primary}-500`)}\n        />\n      </div>\n\n      <div className=\"mt-2 text-xs text-gray-400 text-center\">\n        {language === 'zh' ? 'ç‚¹å‡»æŒ‰é’®æ’­æ”¾ç™½å™ªéŸ³ï¼Œå†æ¬¡ç‚¹å‡»åœæ­¢' : 'Click to play ambience, click again to stop'}\n      </div>\n\n      {/* ç½‘ç»œçŠ¶æ€æç¤º */}\n      {Object.values(audioStatus).some(status => status === 'error' || status === 'missing') && (\n        <div className=\"mt-2 text-xs text-yellow-400 text-center bg-yellow-900/20 p-2 rounded\">\n          {language === 'zh'\n            ? 'âš ï¸ éƒ¨åˆ†éŸ³é¢‘åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥'\n            : 'âš ï¸ Some audio files failed to load, please check network connection'\n          }\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2553, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/StatsPanel.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { useTheme } from '../context/ThemeContext';\nimport { format, subDays, startOfDay } from 'date-fns';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n} from 'chart.js';\n\n// æ³¨å†ŒChartJSç»„ä»¶\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n);\n\nexport function StatsPanel() {\n  const { currentTheme } = useTheme();\n  const [sessions, setSessions] = useState([]);\n  const [stats, setStats] = useState({\n    totalTime: 0,\n    totalSessions: 0,\n    streak: 0,\n    todayTime: 0,\n    weekTime: 0,\n    bestHour: 0\n  });\n\n  useEffect(() => {\n    // ä»localStorageåŠ è½½æ•°æ®\n    const savedSessions = JSON.parse(localStorage.getItem('focus-sessions') || '[]');\n    setSessions(savedSessions);\n\n    // è®¡ç®—ç»Ÿè®¡æ•°æ®\n    const now = new Date();\n    const today = startOfDay(now);\n    const weekStart = startOfDay(subDays(now, 7));\n\n    const todaySessions = savedSessions.filter(s =>\n      new Date(s.endTime) >= today\n    );\n\n    const weekSessions = savedSessions.filter(s =>\n      new Date(s.endTime) >= weekStart\n    );\n\n    const todayTime = todaySessions.reduce((sum, s) => sum + s.duration, 0);\n    const weekTime = weekSessions.reduce((sum, s) => sum + s.duration, 0);\n    const totalTime = savedSessions.reduce((sum, s) => sum + s.duration, 0);\n\n    // è®¡ç®—æœ€ä½³æ—¶æ®µ\n    const hourStats = {};\n    savedSessions.forEach(s => {\n      const hour = new Date(s.endTime).getHours();\n      hourStats[hour] = (hourStats[hour] || 0) + s.duration;\n    });\n    const bestHour = Object.keys(hourStats).reduce((a, b) =>\n      hourStats[a] > hourStats[b] ? a : b, 0\n    );\n\n    // è®¡ç®—è¿ç»­å¤©æ•°\n    const streak = calculateStreak(savedSessions);\n\n    setStats({\n      totalTime,\n      totalSessions: savedSessions.length,\n      streak,\n      todayTime,\n      weekTime,\n      bestHour: parseInt(bestHour)\n    });\n  }, []);\n\n  // è®¡ç®—è¿ç»­å¤©æ•°\n  const calculateStreak = (sessions) => {\n    if (!sessions.length) return 0;\n\n    const dates = sessions\n      .map(s => format(new Date(s.endTime), 'yyyy-MM-dd'))\n      .filter((v, i, a) => a.indexOf(v) === i)\n      .sort((a, b) => new Date(b) - new Date(a));\n\n    let streak = 0;\n    const today = format(new Date(), 'yyyy-MM-dd');\n    const yesterday = format(subDays(new Date(), 1), 'yyyy-MM-dd');\n\n    if (dates[0] === today || dates[0] === yesterday) {\n      streak = 1;\n      for (let i = 1; i < dates.length; i++) {\n        const prevDate = new Date(dates[i-1]);\n        const currDate = new Date(dates[i]);\n        const diffDays = (prevDate - currDate) / 86400000;\n        if (diffDays === 1) {\n          streak++;\n        } else {\n          break;\n        }\n      }\n    }\n\n    return streak;\n  };\n\n  // å‡†å¤‡å›¾è¡¨æ•°æ®\n  const weekData = [];\n  for (let i = 6; i >= 0; i--) {\n    const date = subDays(new Date(), i);\n    const dateStr = format(date, 'yyyy-MM-dd');\n    const daySessions = sessions.filter(s =>\n      format(new Date(s.endTime), 'yyyy-MM-dd') === dateStr\n    );\n    const dayTime = daySessions.reduce((sum, s) => sum + s.duration, 0);\n\n    weekData.push({\n      date: format(date, 'MM/dd'),\n      minutes: Math.floor(dayTime / 60),\n      sessions: daySessions.length\n    });\n  }\n\n  const chartData = {\n    labels: weekData.map(d => d.date),\n    datasets: [\n      {\n        label: 'ä¸“æ³¨æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰',\n        data: weekData.map(d => d.minutes),\n        borderColor: '#6366f1',\n        backgroundColor: 'rgba(99, 102, 241, 0.1)',\n        fill: true,\n        tension: 0.4\n      }\n    ]\n  };\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false\n      },\n      tooltip: {\n        backgroundColor: '#1f2937',\n        titleColor: '#ffffff',\n        bodyColor: '#e5e7eb',\n        borderColor: '#374151',\n        borderWidth: 1\n      }\n    },\n    scales: {\n      x: {\n        grid: {\n          color: 'rgba(255, 255, 255, 0.1)'\n        },\n        ticks: {\n          color: '#9ca3af'\n        }\n      },\n      y: {\n        grid: {\n          color: 'rgba(255, 255, 255, 0.1)'\n        },\n        ticks: {\n          color: '#9ca3af'\n        }\n      }\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* ç»Ÿè®¡å¡ç‰‡ */}\n      <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n        <div className=\"bg-black/20 rounded-lg p-4\">\n          <div className=\"text-2xl font-bold text-indigo-400\">\n            {Math.floor(stats.todayTime / 60)}\n          </div>\n          <div className=\"text-sm text-gray-400\">ä»Šæ—¥åˆ†é’Ÿ</div>\n        </div>\n\n        <div className=\"bg-black/20 rounded-lg p-4\">\n          <div className=\"text-2xl font-bold text-emerald-400\">\n            {Math.floor(stats.weekTime / 60)}\n          </div>\n          <div className=\"text-sm text-gray-400\">æœ¬å‘¨åˆ†é’Ÿ</div>\n        </div>\n\n        <div className=\"bg-black/20 rounded-lg p-4\">\n          <div className=\"text-2xl font-bold text-yellow-400\">\n            {stats.streak}\n          </div>\n          <div className=\"text-sm text-gray-400\">è¿ç»­å¤©æ•°</div>\n        </div>\n\n        <div className=\"bg-black/20 rounded-lg p-4\">\n          <div className=\"text-2xl font-bold text-purple-400\">\n            {stats.totalSessions}\n          </div>\n          <div className=\"text-sm text-gray-400\">æ€»å®Œæˆæ•°</div>\n        </div>\n\n        <div className=\"bg-black/20 rounded-lg p-4\">\n          <div className=\"text-2xl font-bold text-blue-400\">\n            {Math.floor(stats.totalTime / 60)}\n          </div>\n          <div className=\"text-sm text-gray-400\">æ€»åˆ†é’Ÿ</div>\n        </div>\n\n        <div className=\"bg-black/20 rounded-lg p-4\">\n          <div className=\"text-2xl font-bold text-orange-400\">\n            {stats.bestHour}:00\n          </div>\n          <div className=\"text-sm text-gray-400\">æœ€ä½³æ—¶æ®µ</div>\n        </div>\n      </div>\n\n      {/* å›¾è¡¨ */}\n      <div className=\"mb-4 w-full\">\n        <h3 className=\"text-lg font-semibold mb-3\">è¿‘7å¤©è¶‹åŠ¿</h3>\n        <div className=\"h-64 w-full bg-black/10 rounded-xl p-4\">\n          <Line data={chartData} options={chartOptions} />\n        </div>\n      </div>\n\n      {/* æˆå°±è¿›åº¦ */}\n      <div>\n        <h3 className=\"text-lg font-semibold mb-3\">æœ¬å‘¨ç»Ÿè®¡</h3>\n        <div className=\"space-y-2\">\n          {weekData.map((day, index) => (\n            <div key={index} className=\"flex items-center gap-3\">\n              <div className=\"w-12 text-sm text-gray-400\">{day.date}</div>\n              <div className=\"flex-1 bg-black/20 rounded-full h-6 relative overflow-hidden\">\n                <div\n                  className=\"bg-indigo-500 h-full rounded-full transition-all duration-500\"\n                  style={{ width: `${(day.minutes / 180) * 100}%` }}\n                />\n              </div>\n              <div className=\"text-sm text-gray-400 w-16 text-right\">\n                {day.minutes}åˆ†\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2973, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/StatsModal.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { clsx } from 'clsx';\nimport { BarChart3, X } from 'lucide-react';\nimport { StatsPanel } from './StatsPanel';\n\nexport function StatsModal() {\n  const [isOpen, setIsOpen] = useState(false);\n  const { currentTheme } = useTheme();\n\n  return (\n    <>\n      {/* ç»Ÿè®¡æŒ‰é’® */}\n      <button\n        onClick={() => setIsOpen(true)}\n        className={clsx(\n          \"stats-toggle-btn p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110\",\n          `bg-gradient-to-r from-${currentTheme.colors.primary}-500 to-${currentTheme.colors.primary}-600 text-white`,\n          \"hover:shadow-2xl\"\n        )}\n        title=\"æŸ¥çœ‹ç»Ÿè®¡æ•°æ®\"\n      >\n        <BarChart3 size={24} className=\"animate-pulse\" />\n      </button>\n\n      {/* ç»Ÿè®¡å¼¹çª— */}\n      {isOpen && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fade-in p-4\">\n          <div className={clsx(\n            \"rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto transform animate-bounce-in\",\n            currentTheme.colors.card,\n            \"border border-white/10 shadow-2xl\"\n          )}>\n            <div className=\"sticky top-0 p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-black/20 to-transparent\">\n              <div className=\"flex items-center gap-3\">\n                <BarChart3 size={28} className={`text-${currentTheme.colors.primary}-400`} />\n                <h2 className=\"text-2xl font-bold text-gradient\">æ•°æ®ç»Ÿè®¡</h2>\n              </div>\n              <button\n                onClick={() => setIsOpen(false)}\n                className=\"opacity-60 hover:opacity-100 transition-opacity hover:rotate-90 transform p-2\"\n              >\n                <X size={24} />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <StatsPanel />\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;;;;AAEO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,2IAAQ;IAEjC,qBACE;;0BAEE,8OAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAW,IAAA,6IAAI,EACb,qGACA,CAAC,sBAAsB,EAAE,aAAa,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,aAAa,MAAM,CAAC,OAAO,CAAC,eAAe,CAAC,EAC3G;gBAEF,OAAM;0BAEN,cAAA,8OAAC,+NAAS;oBAAC,MAAM;oBAAI,WAAU;;;;;;;;;;;YAIhC,wBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAW,IAAA,6IAAI,EAClB,yFACA,aAAa,MAAM,CAAC,IAAI,EACxB;;sCAEA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,+NAAS;4CAAC,MAAM;4CAAI,WAAW,CAAC,KAAK,EAAE,aAAa,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;;;;;;sDACzE,8OAAC;4CAAG,WAAU;sDAAmC;;;;;;;;;;;;8CAEnD,8OAAC;oCACC,SAAS,IAAM,UAAU;oCACzB,WAAU;8CAEV,cAAA,8OAAC,iMAAC;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAIb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,8IAAU;;;;;;;;;;;;;;;;;;;;;;;AAOzB"}},
    {"offset": {"line": 3096, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/utils/sound.js"],"sourcesContent":["// é”®ç›˜éŸ³æ•ˆç®¡ç†å™¨\nclass KeyboardSound {\n  constructor() {\n    this.audioContext = null;\n    this.enabled = false;\n    this.initAudioContext();\n  }\n  \n  initAudioContext() {\n    try {\n      this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    } catch (e) {\n      console.log('Web Audio API not supported');\n    }\n  }\n  \n  playKeySound() {\n    if (!this.enabled || !this.audioContext) return;\n    \n    const oscillator = this.audioContext.createOscillator();\n    const gainNode = this.audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(this.audioContext.destination);\n    \n    // è®¾ç½®éŸ³è‰²\n    oscillator.type = 'sine';\n    oscillator.frequency.setValueAtTime(800 + Math.random() * 200, this.audioContext.currentTime);\n    \n    // éŸ³é‡åŒ…ç»œ\n    gainNode.gain.setValueAtTime(0, this.audioContext.currentTime);\n    gainNode.gain.linearRampToValueAtTime(0.1, this.audioContext.currentTime + 0.01);\n    gainNode.gain.exponentialRampToValueAtTime(0.001, this.audioContext.currentTime + 0.1);\n    \n    oscillator.start(this.audioContext.currentTime);\n    oscillator.stop(this.audioContext.currentTime + 0.1);\n  }\n  \n  setEnabled(enabled) {\n    this.enabled = enabled;\n    if (enabled && this.audioContext && this.audioContext.state === 'suspended') {\n      this.audioContext.resume();\n    }\n  }\n}\n\n// éœ‡åŠ¨åé¦ˆ\nexport function vibrate(duration = 50) {\n  if ('vibrate' in navigator) {\n    navigator.vibrate(duration);\n  }\n}\n\n// å±å¹•éœ‡åŠ¨åŠ¨ç”»\nexport function screenShake(element, intensity = 5, duration = 300) {\n  if (!element) return;\n  \n  element.style.animation = `shake ${duration}ms ease-in-out`;\n  element.style.setProperty('--shake-intensity', `${intensity}px`);\n  \n  setTimeout(() => {\n    element.style.animation = '';\n  }, duration);\n}\n\n// åˆ›å»ºéŸ³æ•ˆç®¡ç†å™¨å®ä¾‹\nexport const keyboardSound = new KeyboardSound();\n\n// CSS éœ‡åŠ¨åŠ¨ç”»\nconst shakeCSS = `\n@keyframes shake {\n  0%, 100% { transform: translateX(0); }\n  10%, 30%, 50%, 70%, 90% { transform: translateX(calc(-1 * var(--shake-intensity, 5px))); }\n  20%, 40%, 60%, 80% { transform: translateX(var(--shake-intensity, 5px)); }\n}\n`;\n\n// æ·»åŠ CSSåˆ°é¡µé¢\nif (typeof document !== 'undefined') {\n  const style = document.createElement('style');\n  style.textContent = shakeCSS;\n  document.head.appendChild(style);\n}"],"names":[],"mappings":";;;;;;;;AAAA,UAAU;AACV,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,gBAAgB;IACvB;IAEA,mBAAmB;QACjB,IAAI;YACF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,YAAY,IAAI,OAAO,kBAAkB;QAC3E,EAAE,OAAO,GAAG;YACV,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,eAAe;QACb,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;QAEzC,MAAM,aAAa,IAAI,CAAC,YAAY,CAAC,gBAAgB;QACrD,MAAM,WAAW,IAAI,CAAC,YAAY,CAAC,UAAU;QAE7C,WAAW,OAAO,CAAC;QACnB,SAAS,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW;QAE9C,OAAO;QACP,WAAW,IAAI,GAAG;QAClB,WAAW,SAAS,CAAC,cAAc,CAAC,MAAM,KAAK,MAAM,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,WAAW;QAE5F,OAAO;QACP,SAAS,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW;QAC7D,SAAS,IAAI,CAAC,uBAAuB,CAAC,KAAK,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG;QAC3E,SAAS,IAAI,CAAC,4BAA4B,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG;QAElF,WAAW,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW;QAC9C,WAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG;IAClD;IAEA,WAAW,OAAO,EAAE;QAClB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,WAAW,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,KAAK,aAAa;YAC3E,IAAI,CAAC,YAAY,CAAC,MAAM;QAC1B;IACF;AACF;AAGO,SAAS,QAAQ,WAAW,EAAE;IACnC,IAAI,aAAa,WAAW;QAC1B,UAAU,OAAO,CAAC;IACpB;AACF;AAGO,SAAS,YAAY,OAAO,EAAE,YAAY,CAAC,EAAE,WAAW,GAAG;IAChE,IAAI,CAAC,SAAS;IAEd,QAAQ,KAAK,CAAC,SAAS,GAAG,CAAC,MAAM,EAAE,SAAS,cAAc,CAAC;IAC3D,QAAQ,KAAK,CAAC,WAAW,CAAC,qBAAqB,GAAG,UAAU,EAAE,CAAC;IAE/D,WAAW;QACT,QAAQ,KAAK,CAAC,SAAS,GAAG;IAC5B,GAAG;AACL;AAGO,MAAM,gBAAgB,IAAI;AAEjC,WAAW;AACX,MAAM,WAAW,CAAC;;;;;;AAMlB,CAAC;AAED,WAAW;AACX,IAAI,OAAO,aAAa,aAAa;IACnC,MAAM,QAAQ,SAAS,aAAa,CAAC;IACrC,MAAM,WAAW,GAAG;IACpB,SAAS,IAAI,CAAC,WAAW,CAAC;AAC5B"}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/KeyboardSoundToggle.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useTheme } from '../context/ThemeContext';\nimport { Volume2, VolumeX } from 'lucide-react';\nimport { clsx } from 'clsx';\nimport { keyboardSound } from '../utils/sound';\n\nexport function KeyboardSoundToggle() {\n  const [isEnabled, setIsEnabled] = useState(() => {\n    if (typeof window === 'undefined') return false;\n    return localStorage.getItem('focus-keyboard-sound') === 'true';\n  });\n  const { currentTheme } = useTheme();\n\n  useEffect(() => {\n    keyboardSound.setEnabled(isEnabled);\n    localStorage.setItem('focus-keyboard-sound', isEnabled.toString());\n  }, [isEnabled]);\n\n  // ç›‘å¬é”®ç›˜äº‹ä»¶\n  useEffect(() => {\n    if (!isEnabled) return;\n\n    const handleKeyDown = (e) => {\n      // æ’é™¤ä¸€äº›ç‰¹æ®ŠæŒ‰é”®\n      if (e.ctrlKey || e.altKey || e.metaKey || e.key.length > 1) return;\n\n      // éšæœºå»¶è¿Ÿï¼Œè®©å£°éŸ³æ›´è‡ªç„¶\n      setTimeout(() => {\n        keyboardSound.playKeySound();\n      }, Math.random() * 50);\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isEnabled]);\n\n  return (\n    <button\n      onClick={() => setIsEnabled(!isEnabled)}\n      className={clsx(\n        \"sound-toggle-btn p-3 rounded-full shadow-lg transition-all duration-300\",\n        isEnabled\n          ? \"bg-gradient-to-r from-indigo-500 to-purple-500 text-white\"\n          : \"bg-black/80 text-gray-300 hover:bg-black/90\"\n      )}\n      title={isEnabled ? \"å…³é—­é”®ç›˜éŸ³æ•ˆ\" : \"å¼€å¯é”®ç›˜éŸ³æ•ˆ\"}\n    >\n      {isEnabled ? (\n        <Volume2 size={20} className=\"animate-pulse\" />\n      ) : (\n        <VolumeX size={20} />\n      )}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;AAEO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;QACzC,wCAAmC,OAAO;;;IAE5C;IACA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,2IAAQ;IAEjC,IAAA,kNAAS,EAAC;QACR,sIAAa,CAAC,UAAU,CAAC;QACzB,aAAa,OAAO,CAAC,wBAAwB,UAAU,QAAQ;IACjE,GAAG;QAAC;KAAU;IAEd,SAAS;IACT,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW;QAEhB,MAAM,gBAAgB,CAAC;YACrB,WAAW;YACX,IAAI,EAAE,OAAO,IAAI,EAAE,MAAM,IAAI,EAAE,OAAO,IAAI,EAAE,GAAG,CAAC,MAAM,GAAG,GAAG;YAE5D,cAAc;YACd,WAAW;gBACT,sIAAa,CAAC,YAAY;YAC5B,GAAG,KAAK,MAAM,KAAK;QACrB;QAEA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,IAAM,SAAS,mBAAmB,CAAC,WAAW;IACvD,GAAG;QAAC;KAAU;IAEd,qBACE,8OAAC;QACC,SAAS,IAAM,aAAa,CAAC;QAC7B,WAAW,IAAA,6IAAI,EACb,2EACA,YACI,8DACA;QAEN,OAAO,YAAY,WAAW;kBAE7B,0BACC,8OAAC,uNAAO;YAAC,MAAM;YAAI,WAAU;;;;;iCAE7B,8OAAC,uNAAO;YAAC,MAAM;;;;;;;;;;;AAIvB"}},
    {"offset": {"line": 3247, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/components/LanguageToggle.jsx"],"sourcesContent":["import { useLanguage } from '../context/LanguageContext';\nimport { useTheme } from '../context/ThemeContext';\nimport { Globe } from 'lucide-react';\nimport { clsx } from 'clsx';\n\nexport function LanguageToggle() {\n  const { language, switchLanguage, t } = useLanguage();\n  \n  return (\n    <button\n      onClick={switchLanguage}\n      className={clsx(\n        \"fixed top-6 right-6 px-4 py-2 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center gap-2\",\n        \"bg-gradient-to-r from-blue-500 to-purple-500 text-white\",\n        \"hover:shadow-xl z-50 border border-white/20 backdrop-blur-sm\"\n      )}\n      title={language === 'zh' ? 'Switch to English' : 'åˆ‡æ¢åˆ°ä¸­æ–‡'}\n    >\n      <Globe size={16} className=\"animate-pulse\" />\n      <span className=\"text-sm font-bold tracking-wide\">\n        {language === 'zh' ? 'ä¸­æ–‡' : 'EN'}\n      </span>\n    </button>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAE,CAAC,EAAE,GAAG,IAAA,iJAAW;IAEnD,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,IAAA,6IAAI,EACb,sIACA,2DACA;QAEF,OAAO,aAAa,OAAO,sBAAsB;;0BAEjD,8OAAC,6MAAK;gBAAC,MAAM;gBAAI,WAAU;;;;;;0BAC3B,8OAAC;gBAAK,WAAU;0BACb,aAAa,OAAO,OAAO;;;;;;;;;;;;AAIpC"}},
    {"offset": {"line": 3295, "column": 0}, "map": {"version":3,"sources":["file:///Users/berlin/Documents/trae_projects/Focus/src/app/page.js"],"sourcesContent":["'use client';\n\nimport dynamic from 'next/dynamic';\nimport { Layout } from '../components/Layout';\nimport { Timer } from '../components/Timer';\nimport { TodoList } from '../components/TodoList';\nimport { SoundPlayer } from '../components/SoundPlayer';\nimport { StatsModal } from '../components/StatsModal';\nimport { KeyboardSoundToggle } from '../components/KeyboardSoundToggle';\nimport { LanguageToggle } from '../components/LanguageToggle';\n\n// åŠ¨æ€å¯¼å…¥ç»„ä»¶ä»¥é¿å…SSRé—®é¢˜ (å› ä¸ºä½¿ç”¨äº†localStorageå’Œwindowå¯¹è±¡)\nconst ClientTimer = dynamic(() => import('../components/Timer').then(mod => mod.Timer), { ssr: false });\nconst ClientTodoList = dynamic(() => import('../components/TodoList').then(mod => mod.TodoList), { ssr: false });\nconst ClientSoundPlayer = dynamic(() => import('../components/SoundPlayer').then(mod => mod.SoundPlayer), { ssr: false });\nconst ClientStatsModal = dynamic(() => import('../components/StatsModal').then(mod => mod.StatsModal), { ssr: false });\nconst ClientKeyboardSoundToggle = dynamic(() => import('../components/KeyboardSoundToggle').then(mod => mod.KeyboardSoundToggle), { ssr: false });\n\nexport default function Home() {\n  return (\n    <Layout>\n      <div className=\"flex flex-col gap-6\">\n        <section>\n          <ClientTimer />\n        </section>\n        \n        <section className=\"grid md:grid-cols-2 gap-6\">\n          <ClientSoundPlayer />\n          <ClientTodoList />\n        </section>\n      </div>\n      \n      {/* è¯­è¨€åˆ‡æ¢æŒ‰é’® */}\n      <LanguageToggle />\n      \n      {/* ç»Ÿè®¡æŒ‰é’® */}\n      <ClientStatsModal />\n      \n      {/* é”®ç›˜éŸ³æ•ˆå¼€å…³ */}\n      <div className=\"fixed bottom-6 left-6\">\n        <ClientKeyboardSoundToggle />\n      </div>\n    </Layout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AATA;;;;;;;;;;AAWA,8CAA8C;AAC9C,MAAM,cAAc,IAAA,0KAAO;;;;;;IAA+D,KAAK;;AAC/F,MAAM,iBAAiB,IAAA,0KAAO;;;;;;IAAqE,KAAK;;AACxG,MAAM,oBAAoB,IAAA,0KAAO;;;;;;IAA2E,KAAK;;AACjH,MAAM,mBAAmB,IAAA,0KAAO;;;;;;IAAyE,KAAK;;AAC9G,MAAM,4BAA4B,IAAA,0KAAO;;;;;;IAA2F,KAAK;;AAE1H,SAAS;IACtB,qBACE,8OAAC,sIAAM;;0BACL,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCACC,cAAA,8OAAC;;;;;;;;;;kCAGH,8OAAC;wBAAQ,WAAU;;0CACjB,8OAAC;;;;;0CACD,8OAAC;;;;;;;;;;;;;;;;;0BAKL,8OAAC,sJAAc;;;;;0BAGf,8OAAC;;;;;0BAGD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;;;;;;;;;;;;;;;;AAIT"}}]
}